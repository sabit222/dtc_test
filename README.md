DTC Test Project
üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
DTC Test Project ‚Äî —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–æ—Å—Ç–æ—è—â–µ–µ –∏–∑ –¥–≤—É—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

user_service (–ø–æ—Ä—Ç 8081) ‚Äî —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
ord_service (–ø–æ—Ä—Ç 8082) ‚Äî —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏.
postgres (–ø–æ—Ä—Ç 5432) ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT-—Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

dtc_testproject/
‚îÇ‚îÄ‚îÄ user_service/        # –ö–æ–¥ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ‚îÄ‚îÄ ord_service/         # –ö–æ–¥ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –∑–∞–∫–∞–∑–æ–≤
‚îÇ‚îÄ‚îÄ docker-compose.yml   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose
‚îÇ‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

üõ† –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏ Docker –∏ Docker Compose
2Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
docker-compose up -d --build

3Ô∏è‚É£ –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã:

8081 ‚Üí user_service
8082 ‚Üí ord_service
5432 ‚Üí PostgreSQL

üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
üìå –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

POST /api/v1/auth/register
üîπ –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
{
  "firstname": "John",
  "lastname": "Doe",
  "email": "john.doe@example.com",
  "password": "password123",
  "roles": ["ROLE_USER"]
}
üîπ –û—Ç–≤–µ—Ç

{
  "token": "eyJhbGciOiJIUzI1NiIsIn..."
}

üìå –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É)

POST /api/v1/auth/authenticate
üîπ –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

{
  "email": "john.doe@example.com",
  "password": "password123"
}
üîπ –û—Ç–≤–µ—Ç

{
  "token": "eyJhbGciOiJIUzI1NiIsIn...",
  "refreshToken": "eyJhbGciOiJIUz..."
}
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization: Bearer <JWT_TOKEN>.

üìå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–∞

POST /api/v1/auth/refresh-token
–≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç access_token, –µ—Å–ª–∏ refresh_token –µ—â–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω.

üì¶ –†–∞–±–æ—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏ (ord_service)
üìå –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤

GET /api/orders
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å: ROLE_ADMIN
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ —Ü–µ–Ω–µ:
GET /api/orders?status=PENDING&minPrice=50&maxPrice=200

üìå –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑ –ø–æ ID

GET /api/orders/{orderId}
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å: ROLE_ADMIN –∏–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü –∑–∞–∫–∞–∑–∞ (ROLE_USER).
–ü—Ä–∏–º–µ—Ä:
GET /api/orders/1

üìå –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑

POST /api/orders?firstname=John
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å: ROLE_USER
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

{
  "status": "PENDING",
  "totalPrice": 100.00,
  "products": [
    {
      "name": "Apple",
      "price": 90.00,
      "quantity": 1
    }
  ]
}

üìå –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–∫–∞–∑

PUT /api/orders/{orderId}?firstname=John
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å: ROLE_USER –∏–ª–∏ ROLE_ADMIN
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

{
  "status": "CONFIRMED",
  "totalPrice": 120.00,
  "products": [
    {
      "name": "Apple",
      "price": 90.00,
      "quantity": 1
    },
    {
      "name": "Banana",
      "price": 30.00,
      "quantity": 2
    }
  ]
}

üìå –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑

DELETE /api/orders/{orderId}
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å: ROLE_ADMIN
–ü—Ä–∏–º–µ—Ä:

DELETE /api/orders/1

üîé –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ ord_service:

docker logs ord_service -f <>

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ user_service:

docker logs user_service -f

üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

docker-compose down
–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –¥–æ–±–∞–≤—å—Ç–µ -v:
docker-compose down -v
